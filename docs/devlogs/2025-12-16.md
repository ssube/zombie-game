### Summary

I added a gimbal node that resists changes to its rotation, moving back to its on-ready rotation with configurable resistance. It's a tool script so the movement is visible in the editor. I also added a pressure plate prefab that can trigger doors, traps, or other actions.

I continued working on action nodes and started writing a deep dive on them - they are reusable outside of the zombie game framework.

I added a breakable door that uses the health/skin systems to switch between sections. Visual meshes and physics bodies in each skin group are enabled or disabled as needed. I also added an automatic door that opens when you enter an area and closes on a timer.

I fixed the shotgun blocking selections by testing a weapon marker node. Equipped weapons will be placed under the player's weapon marker. I also made inventory nodes invisible for player and zombie, added water areas that put out fires, and implemented breakable glass with particle effects.

### Progress

- added gimbal node
	- resists changes to its rotation
	- moves back to its on-ready rotation with a configurable resistance
	- tool script so movement is visible in the editor
- added pressure plate prefab
	- has no material for now
	- example for triggering doors, traps, or other actions
- continuing to work on actions nodes
	- moved all action triggers into `scripts/nodes/triggers` and renamed them to include Trigger
		- makes them more consistent within action-condition-trigger naming
	- started writing a deep dive on the action/trigger nodes
		- they are reusable outside of the zombie game framework
- added a breakable door
	- uses the health/skin systems to switch between sections
	- visual meshes and physics bodies in each skin group are enabled or disabled as needed
	- by visibility in editor should be the starting skin
- added an automatic door
	- opens when you enter an area around it
	- closes on a timer
- fix shotgun blocking selections
	- the interaction raycast ignores its parent, but the shotgun is a second body
	- should weapons be on their own collision layer?
		- probably not, because zombie weapons should hit the player
	- moving it out of the way might be the simplest solution
		- but it currently lines up with the crosshairs
		- it would need to be rotated to match the crosshairs if it was moved down lower on the character
		- it will need to be moved down once the player has a real model
	- testing a weapon marker node
		- equipped weapon will be placed under player's weapon marker
		- applies to zombie melee weapon as well
- made inventory nodes invisible for player and zombie
- water areas put out fires
- breakable glass with particle effects

### TODOs

- copy devlogs into github
- start setting up itch page

### Next Up

- add explosion decals to barrels
- remove water surfaces in zone 1 that are parallel at the end of each water brush
- [x] make buttons light up when pressed
	- consider adding more skin types/groups
- figure out melee impact sounds
- add support for multiple weapon muzzle markers
- test fading between skin materials
- [x] add spread axis to spawn action
- add a new collision layer for bullets
- [x] slime enemy that spawns two smaller slimes when it dies
adjustable color 	- entity-death action type + ragdoll action node would also clean up zombie death logic
		- would go well with entity-ready action type
- [x] figure out why bat can't hit door
- [x] split up player and zombie footsteps, make zombies louder
- [x] state machine action
    - set current state (jump)
    - run transition (call)
    - set blackboard (source or actor + key name)
- crazy idea: Ecs query action that runs its children for every entity in the query
    - use case: aggro every zombie in the area
- figure out aggro system for zombies
    - doubles as flee system for animals in the tutorial
    - score accumulates as the zombie sees and hears things
    - high enough score causes horde behavior
    - in zombies, seeing a zombie with high aggro will head towards them
    - in animals, they will run away from the source or each other
- [x] add cli option to load map name
- integrate with Trenchbroom launcher

### Questions

- should the door open action work if the door is locked?
	- can the action override the lock?
	- this would allow players to use a button to open an otherwise-locked door without unlocking it
	- although locking it when it closes would work just as well to prevent them from using it directly

### Projectile Piercing

Some projectiles should be able to pierce through thin surfaces or multiple enemies, like rifle bullets going through a zombie.

Doesn't work right now, to put it simply.  Acts more like a ricochet limiter, which could be fun for grenade or a slime launcher, but not for bullets.

The simple fix would be prevent bullets from actually colliding, at least with props and characters. They need to collide with the world for walls and ricochets, but thin, piercable walls can be props. The raycast does most of the work anyway, and should probably be moved to the physics thread or generally run more often. Trees and bushes can also be props and may not have collision on the leaves anyway, so bullets would never collide with them.

The amount of piercing could be a decimal score instead of an integer for more control over what projectiles can penetrate which surfaces. This would make more sense than integers, I think, but it's hard to say. Either a zombie is 1.0 or 10, and shotgun shells are 0.5 or so, while rifle bullets might be 2.0 or 3.0 (20 or 30). Floats allow more precision where it doesn't really matter, but I do like the idea of the most common value being 1.
