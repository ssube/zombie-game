### Summary

I merged most of the area types into a unified trigger area and raycast area. The difference between the two is when body-entered is fired: the trigger area uses standard area3d logic, while the raycast area starts a line-of-sight check after the signal.

I added a faction component for entities. Enemy factions start with `enemy_*` and friendly factions start with `friendly_*`. This lets areas check faction before applying damage or other effects.

I added more sounds and effects: melee weapon swing-while-broken effects, ranged weapon fire-while-empty effects, and door open/close effects. I also refactored skin material switching into a skin observer - the health observer now sets the skin type and the skin component has a material for each type.

I added a trigger timer that uses the same actions and conditions as the trigger area. It replaces the remove-on-timer event script and defaults to auto-start and one-shot.

### Progress

- merged various area types into trigger area and raycast area
	- difference between the remaining two is when body-entered is fired:
		- trigger area uses standard area3d logic
		- raycast area starts a line-of-sight raycast after the area3d signal and only runs actions if the area has a line of sight to the colliding body
- started adding conditions for areas
	- faction condition to hit enemy/player/survivor
		- should have a corresponding faction component
- added a faction component
	- does not replace player component yet, but it should
	- only allows one faction for now
	- enemy factions start with `enemy_*`, like `enemy_zombies`
	- friendly factions start with `friendly_*`, like `friendly_survivors` or `friendly_players`
- added two debug spawn props
	- ammo spawn
	- zombie spawn
- added a trigger timer
	- uses the same actions and conditions as the trigger area
	- defaults to auto-start and one-shot
	- replaces the remove-on-timer event script
- adding more sounds/effects
	- implemented melee weapon swing-while-broken effects
		- added to baseball bat
	- implemented ranged weapon fire-while-empty effects
		- added to shotgun
	- implemented door open/close effects
		- added to wooden door
- refactored skin material switching into a skin observer
	- health observer now sets the skin type to use
	- skin component has a material for each type
- implemented a basic faction system
	- faction is a component, so each entity can only have one for now
	- using a relationship would allow multiple factions
	- the component could also contain a rank or standing/reputation
- added two new screen effects
	- armor
	- healing

### TODOs

- [x] move event scripts into nodes
	- [x] emit-on-ready becomes ZN_GPUParticles
	- [x] remove-after-timer becomes a node that extends the Timer class
- [x] move skin handling to health observer or new skin system
    - [x] skin condition changes with health
    - ~~skins could be given as part of the health component~~
    - a door skin might have chunks missing
    - [x] should the skin/condition have an impact on physics?
    - [x] skins could enable/disable nodes like collision shape as well as changing materials
    - need a way to cycle between skins in the editor
    - [x] the health system could set the active skin index or name
    - [x] the skin observer would handle nodes materials
- [x] tool to sort components by class name
- [x] remove speed modifier area
	- [x] replace with action
- [x] fire area speeds up players
- [x] sounds:
    - [x] bat broken
    - [x] shotgun empty
    - [x] door open
    - [x] door closed
- [x] improve shotgun blast particles
- [x] make trigger timer auto-start + one-shot by default
- [x] add new ammo crates to ECS world
- [x] add new zombies to ECS world
	- [x] and their weapons
- [x] add screen effects for armor and healing

### Next Up

- [x] add more doors:
	- [x] breakable doors
	- [x] counter-clockwise
	- [x] automatic automatic sliding
- [ ] explosion decals
- [x] find some smoke and spark textures
- [ ] add skin slot for < 50% health
	- [ ] or make thresholds configurable
- [x] remove water surfaces in zone 1 that are parallel at the end of each water brush
- [x] move health clamping logic (0 to max) into the health component
- [x] fix the shotgun making it difficult to select anything else
- [x] actions that run on interaction

### Merging the Areas

There are too many different area scripts in the events folder, each with slightly different behavior. Unifying them into a single trigger area with configurable actions would make the system much easier to understand and extend.

Hypothesis: the trigger area and spawn area can be merged if the trigger area uses the same action nodes as the objective tree

When the triggers are triggered, the area would call its actionable children, which could have conditions under them. If the conditions pass, the action runs.

The delay action would call its own children after a delay or debounce.

The following events could be replaced by the trigger area after these changes:

- burn on timer
- damage on enter
- damage on timer

With a little bit more work, the EffectArea3D and SpeedModifierArea3D can be replaced and removed as well.

To fully replace the other areas, the TriggerArea will need to:

- apply different actions on each event - enter, exit, interval, and timer
- optionally test line of sight
- check factions
- be part of an entity and/or be able to impact durability

Action signature: `(actor: Entity, area: TriggerArea3D, event: TriggerEvent)`
