[gd_scene load_steps=29 format=4 uid="uid://bq6a52tvj60bq"]

[ext_resource type="Script" uid="uid://d2ww1flmd4yo4" path="res://scripts/entities/characters/ZE_Survivor.gd" id="1_61xi3"]
[ext_resource type="Script" uid="uid://b6k13gc2m4e5s" path="res://addons/gecs/ecs/component.gd" id="2_ig744"]
[ext_resource type="Script" uid="uid://0ndifcnh0nsp" path="res://scripts/components/ZC_Health.gd" id="3_ci84u"]
[ext_resource type="Script" uid="uid://0dld8iow0suh" path="res://scripts/components/status/ZC_Interactive.gd" id="4_0wy0w"]
[ext_resource type="Resource" uid="uid://bjknld1sg8tq0" path="res://dialogue/hotel_clerk.dialogue" id="6_jkcq6"]
[ext_resource type="Script" uid="uid://b0eipv08nprbd" path="res://scripts/components/characters/ZC_Dialogue.gd" id="7_04tpt"]
[ext_resource type="Script" uid="uid://c7dv7vmk2ynqt" path="res://scripts/components/characters/ZC_Movement.gd" id="8_eirhj"]
[ext_resource type="Script" uid="uid://cixmecjncarw5" path="res://scripts/components/ZC_Velocity.gd" id="9_jkcq6"]
[ext_resource type="Script" uid="uid://b7x5tu22015cx" path="res://scripts/components/characters/ZC_Faction.gd" id="10_04tpt"]
[ext_resource type="Material" uid="uid://btw66b8ou4adn" path="res://materials/effects/shimmer_plot.tres" id="10_wfgdr"]
[ext_resource type="Script" uid="uid://be84y2dw7fp0e" path="res://scripts/components/effects/ZC_Shimmer.gd" id="11_80wbs"]
[ext_resource type="Script" uid="uid://h4hsumlormm8" path="res://scripts/nodes/triggers/ZN_VariableTriggerTimer.gd" id="11_w7go0"]
[ext_resource type="Script" uid="uid://c0cxv8olxfknv" path="res://scripts/nodes/actions/ZN_RandomBranch.gd" id="12_nvvd0"]
[ext_resource type="Script" uid="uid://dga8v5ocxqirt" path="res://scripts/nodes/actions/ZN_AudioAction.gd" id="13_wfgdr"]
[ext_resource type="Script" uid="uid://mcuf24u8q14t" path="res://scripts/nodes/ZN_AudioSubtitle3D.gd" id="14_80wbs"]

[sub_resource type="Resource" id="Resource_0qnp1"]
script = ExtResource("3_ci84u")
metadata/_custom_type_script = "uid://0ndifcnh0nsp"

[sub_resource type="Resource" id="Resource_w7go0"]
script = ExtResource("4_0wy0w")
name = "Hotel Clerk"
pickup = false
crosshair_color = Color(0.3764706, 0.7764706, 1, 1)
metadata/_custom_type_script = "uid://0dld8iow0suh"

[sub_resource type="Resource" id="Resource_4sttm"]
script = ExtResource("7_04tpt")
dialogue_tree = ExtResource("6_jkcq6")
character_name = "Hotel Clerk"
metadata/_custom_type_script = "uid://b0eipv08nprbd"

[sub_resource type="Resource" id="Resource_jkcq6"]
script = ExtResource("8_eirhj")
metadata/_custom_type_script = "uid://c7dv7vmk2ynqt"

[sub_resource type="Resource" id="Resource_04tpt"]
script = ExtResource("9_jkcq6")
metadata/_custom_type_script = "uid://cixmecjncarw5"

[sub_resource type="Resource" id="Resource_y41co"]
script = ExtResource("10_04tpt")
faction_name = "friendly_survivors"
metadata/_custom_type_script = "uid://b7x5tu22015cx"

[sub_resource type="Resource" id="Resource_ym5d7"]
script = ExtResource("11_80wbs")
material = ExtResource("10_wfgdr")
nodes = Array[NodePath]([NodePath("CSGBakedMeshInstance3D"), NodePath("CSGSphere3D")])
metadata/_custom_type_script = "uid://be84y2dw7fp0e"

[sub_resource type="ArrayMesh" id="ArrayMesh_2n0ki"]
_surfaces = [{
"aabb": AABB(-0.5, -1, -0.5, 1, 2, 1),
"attribute_data": PackedByteArray("GPYVPgAAAAAAAAAAAAAAAAAAAD8AAAA/AAAAPwAAAAAAACA/AAAAAAAAID8AAIA/AAAAPwAAAAAY9hU+AAAAAAAAAD8AAAA/AAAgPwAAAAAAAEA/AAAAAAAAQD8AAIA/AAAAAAAAAAAa9hU+AAAAAAAAAD8AAAA/AADAPgAAAAAAAAA/AAAAAAAAAD8AAIA/GvYVPgAAAAD///8+AAAAAAAAAD8AAAA/AACAPgAAAAAAAMA+AAAAAAAAwD4AAIA/AAAgPwAAgD8AAAA/AACAPwAAAD8AAAAAGPYVPgAAAAAAAAAAAAAAAAAAAD8AAAA/AABAPwAAgD8AACA/AACAPwAAID8AAAAAAAAAPwAAAAAY9hU+AAAAAAAAAD8AAAA/AAAAPwAAgD8AAMA+AACAPwAAwD4AAAAAAAAAAAAAAAAa9hU+AAAAAAAAAD8AAAA/AADAPgAAgD8AAIA+AACAPwAAgD4AAAAAGvYVPgAAAAD///8+AAAAAAAAAD8AAAA/eIJaPwAAAAAAAAA/AAAAAAAAAD8AAAA/AABAPwAAAAAAAGA/AAAAAAAAYD8AAIA/AACAPwAAAAB4glo/AAAAAAAAAD8AAAA/AABgPwAAAAAAAAAAAAAAAAAAAAAAAIA/////PgAAAAB6glo/AAAAAAAAAD8AAAA/AAAAPgAAAAAAAIA+AAAAAAAAgD4AAIA/eoJaPwAAAAAAAIA/AAAAAAAAAD8AAAA/AAAAAAAAAAAAAAA+AAAAAAAAAD4AAIA/AABgPwAAgD8AAEA/AACAPwAAQD8AAAAAeIJaPwAAAAAAAAA/AAAAAAAAAD8AAAA/AAAAAAAAgD8AAGA/AACAPwAAYD8AAAAAAACAPwAAAAB4glo/AAAAAAAAAD8AAAA/AACAPgAAgD8AAAA+AACAPwAAAD4AAAAA////PgAAAAB6glo/AAAAAAAAAD8AAAA/AAAAPgAAgD8AAAAAAACAPwAAAAAAAAAAeoJaPwAAAAAAAIA/AAAAAAAAAD8AAAA/"),
"format": 34359738391,
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 96,
"vertex_data": PackedByteArray("9AS1vgAAgL/yBLW+AAAAvwAAgL8uvTuzAAAAAAAAgL8AAAAAAAAAvwAAgL8uvTuz9AS1vgAAgL/yBLW+9AS1vgAAgD/yBLW+Lt7MMQAAgL8AAAC/9AS1vgAAgL/yBLW+AAAAAAAAgL8AAAAA9AS1vgAAgL/yBLW+Lt7MMQAAgL8AAAC/Lt7MMQAAgD8AAAC/AAAAvwAAgL8uvTuz8wS1vgAAgL/zBLU+AAAAAAAAgL8AAAAA8wS1vgAAgL/zBLU+AAAAvwAAgL8uvTuzAAAAvwAAgD8uvTuz8wS1vgAAgL/zBLU+Lr27sgAAgL8AAAA/AAAAAAAAgL8AAAAALr27sgAAgL8AAAA/8wS1vgAAgL/zBLU+8wS1vgAAgD/zBLU+9AS1vgAAgD/yBLW+AAAAvwAAgD8uvTuzAAAAvwAAgL8uvTuzAAAAvwAAgD8uvTuz9AS1vgAAgD/yBLW+AAAAAAAAgD8AAAAALt7MMQAAgD8AAAC/9AS1vgAAgD/yBLW+9AS1vgAAgL/yBLW+9AS1vgAAgD/yBLW+Lt7MMQAAgD8AAAC/AAAAAAAAgD8AAAAAAAAAvwAAgD8uvTuz8wS1vgAAgD/zBLU+8wS1vgAAgL/zBLU+8wS1vgAAgD/zBLU+AAAAvwAAgD8uvTuzAAAAAAAAgD8AAAAA8wS1vgAAgD/zBLU+Lr27sgAAgD8AAAA/Lr27sgAAgL8AAAA/Lr27sgAAgD8AAAA/8wS1vgAAgD/zBLU+AAAAAAAAgD8AAAAA8QS1PgAAgL/1BLW+Lt7MMQAAgL8AAAC/AAAAAAAAgL8AAAAALt7MMQAAgL8AAAC/8QS1PgAAgL/1BLW+8QS1PgAAgD/1BLW+AAAAPwAAgL8AAAAA8QS1PgAAgL/1BLW+AAAAAAAAgL8AAAAA8QS1PgAAgL/1BLW+AAAAPwAAgL8AAAAAAAAAPwAAgD8AAAAALr27sgAAgL8AAAA/8wS1PgAAgL/zBLU+AAAAAAAAgL8AAAAA8wS1PgAAgL/zBLU+Lr27sgAAgL8AAAA/Lr27sgAAgD8AAAA/8wS1PgAAgL/zBLU+AAAAPwAAgL8AAAAAAAAAAAAAgL8AAAAAAAAAPwAAgL8AAAAA8wS1PgAAgL/zBLU+8wS1PgAAgD/zBLU+8QS1PgAAgD/1BLW+Lt7MMQAAgD8AAAC/Lt7MMQAAgL8AAAC/Lt7MMQAAgD8AAAC/8QS1PgAAgD/1BLW+AAAAAAAAgD8AAAAAAAAAPwAAgD8AAAAA8QS1PgAAgD/1BLW+8QS1PgAAgL/1BLW+8QS1PgAAgD/1BLW+AAAAPwAAgD8AAAAAAAAAAAAAgD8AAAAALr27sgAAgD8AAAA/8wS1PgAAgD/zBLU+8wS1PgAAgL/zBLU+8wS1PgAAgD/zBLU+Lr27sgAAgD8AAAA/AAAAAAAAgD8AAAAA8wS1PgAAgD/zBLU+AAAAPwAAgD8AAAAAAAAAPwAAgL8AAAAAAAAAPwAAgD8AAAAA8wS1PgAAgD/zBLU+AAAAAAAAgD8AAAAA/38AAP///x//fwAA//++Ev9/AAD///8/AACGj///O/gAANXI//+U2wAAKbf//2rk/38AAP///z//fwAA////H/9/AAD///8/AADVyP//lNv//3fwd/D/vwAAd/D//8LH/38AAHyl/7//fwAA/7//v/9/AAD///+/KTf/fwAAauQAAIaP//87+IcP/38AADv4/38AAP+//7//fwAA////v/9/AAD///+/eHD/fwAAwscpN/9/AABq5NVI/38AAJTbAAApt///auSHD/9/AAA7+AAAho///zv4/3///4Ja/z//f///glr/P/9///+CWv8/AAB38P//wscAACm3//9q5AAA1cj//5Tb/3///30l/z//f///fSX/P/9///99Jf8/hw//fwAAO/jVSP9/AACU2yk3/38AAGrk/3///wAAQO3/f///AABA7f9///8AAEDt1Uj/fwAAlNuGj/9/hw//v3hw/38AAMLH/3///wAAvdL/f///AAC90v9///8AAL3S/38AAP+//z//fwAA////P/9/AAD///8///938Hfw/7///ym3Kbf/v///1cjVyP+//38AAHyl/z//fwAA/7//P/9/AAD///8///8ptwAAlBt38P9////DB///ho8AAMMH/38AAP///7//fwAA////3/9/AAD///+/Kbf/fyk3/794cP9/AADCx4aP/3+HD/+//38AAP///9//fwAA//9A7f9/AAD///+/d/D/f3hw/78pt/9/KTf/v9XI/3/VSP+////VyNXI/78AAHfw///Cx///d/B38P+//3///wAAQS3/f///AABBLf9///8AAEEt//+GjwAAwwf//9XIAABqJP//KbcAAJQb/3///wAAvhL/f///AAC+Ev9///8AAL4Sho//f4cP/7/VyP9/1Uj/vym3/38pN/+//3///30l/7//f///fSX/v/9///99Jf+/1cj/f9VI/7///4aPho//v3fw/394cP+//3///4Ja/7//f///glr/v/9///+CWv+/")
}]

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_qtjoq"]
points = PackedVector3Array(-0.5, -1, -9.787083e-05, -0.35356304, -1, -0.35356304, -0.35356304, -1, 0.35346514, -0.5, 1, -9.787083e-05, -0.35356304, 1, -0.35356304, 0, -1, -0.5, -9.787083e-05, -1, 0.5, -0.35356304, 1, 0.35346514, 0, 1, -0.5, 0.35346514, -1, -0.35356304, 0.35346514, -1, 0.35346514, -9.787083e-05, 1, 0.5, 0.35346514, 1, -0.35356304, 0.5, -1, 0, 0.35346514, 1, 0.35346514, 0.5, 1, 0)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_0qnp1"]
albedo_color = Color(0.43, 0.9430001, 1, 1)

[sub_resource type="Animation" id="Animation_0wy0w"]
length = 0.001

[sub_resource type="Animation" id="Animation_0qnp1"]
resource_name = "idle"
length = 3.0
loop_mode = 1
tracks/0/type = "position_3d"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("CSGBakedMeshInstance3D")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = PackedFloat32Array(0.5, 1, 0, 1, 0, 1, 1, 0, 1.2, 0, 1.5, 1, 0, 1.2, 0, 2, 1, 0, 1, 0)

[sub_resource type="AnimationLibrary" id="AnimationLibrary_eirhj"]
_data = {
&"RESET": SubResource("Animation_0wy0w"),
&"idle": SubResource("Animation_0qnp1")
}

[node name="HotelClerk" type="StaticBody3D"]
collision_layer = 8
collision_mask = 31
script = ExtResource("1_61xi3")
prefab_path = "res://entities/characters/hotel_clerk.tscn"
component_resources = Array[ExtResource("2_ig744")]([SubResource("Resource_0qnp1"), SubResource("Resource_w7go0"), SubResource("Resource_4sttm"), SubResource("Resource_jkcq6"), SubResource("Resource_04tpt"), SubResource("Resource_y41co"), SubResource("Resource_ym5d7")])

[node name="CSGCylinder3D" type="CSGCylinder3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
visible = false

[node name="CSGBakedMeshInstance3D" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("ArrayMesh_2n0ki")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("ConvexPolygonShape3D_qtjoq")

[node name="CSGSphere3D" type="CSGSphere3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0.25)
material = SubResource("StandardMaterial3D_0qnp1")

[node name="AnimationPlayer" type="AnimationPlayer" parent="."]
libraries = {
&"": SubResource("AnimationLibrary_eirhj")
}
autoplay = "idle"

[node name="IdleCommentTimer" type="Timer" parent="." node_paths=PackedStringArray("parent_entity")]
wait_time = 60.0
script = ExtResource("11_w7go0")
min_variation = -5.0
max_variation = 5.0
repeat = true
parent_entity = NodePath("..")
metadata/_custom_type_script = "uid://h4hsumlormm8"

[node name="ZN_RandomBranch" type="Node" parent="IdleCommentTimer"]
script = ExtResource("12_nvvd0")
metadata/_custom_type_script = "uid://c0cxv8olxfknv"

[node name="ZN_AudioAction" type="Node" parent="IdleCommentTimer/ZN_RandomBranch" node_paths=PackedStringArray("audio_players")]
script = ExtResource("13_wfgdr")
audio_players = [NodePath("../../../Sounds/ZN_AudioSubtitle3D")]
metadata/_custom_type_script = "uid://dga8v5ocxqirt"

[node name="ZN_AudioAction2" type="Node" parent="IdleCommentTimer/ZN_RandomBranch" node_paths=PackedStringArray("audio_players")]
script = ExtResource("13_wfgdr")
audio_players = [NodePath("../../../Sounds/ZN_AudioSubtitle3D2")]
metadata/_custom_type_script = "uid://dga8v5ocxqirt"

[node name="ZN_AudioAction3" type="Node" parent="IdleCommentTimer/ZN_RandomBranch" node_paths=PackedStringArray("audio_players")]
script = ExtResource("13_wfgdr")
audio_players = [NodePath("../../../Sounds/ZN_AudioSubtitle3D3")]
metadata/_custom_type_script = "uid://dga8v5ocxqirt"

[node name="Sounds" type="Node3D" parent="."]

[node name="ZN_AudioSubtitle3D" type="AudioStreamPlayer3D" parent="Sounds"]
script = ExtResource("14_80wbs")
subtitle_text = "Grumbling"
metadata/_custom_type_script = "uid://mcuf24u8q14t"

[node name="ZN_AudioSubtitle3D2" type="AudioStreamPlayer3D" parent="Sounds"]
script = ExtResource("14_80wbs")
subtitle_text = "Coughing"
metadata/_custom_type_script = "uid://mcuf24u8q14t"

[node name="ZN_AudioSubtitle3D3" type="AudioStreamPlayer3D" parent="Sounds"]
script = ExtResource("14_80wbs")
subtitle_text = "Incoherent Screaming"
metadata/_custom_type_script = "uid://mcuf24u8q14t"
