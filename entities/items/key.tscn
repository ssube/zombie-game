[gd_scene load_steps=19 format=3 uid="uid://kod7e8o8xpep"]

[ext_resource type="Script" uid="uid://vgk3yi0ub4yr" path="res://scripts/entities/items/ZE_Key.gd" id="1_lwijo"]
[ext_resource type="Script" uid="uid://b6k13gc2m4e5s" path="res://addons/gecs/ecs/component.gd" id="2_xagmd"]
[ext_resource type="Script" uid="uid://q5lsf8fn6s2" path="res://scripts/components/props/ZC_Key.gd" id="3_478x2"]
[ext_resource type="Script" uid="uid://0dld8iow0suh" path="res://scripts/components/status/ZC_Interactive.gd" id="4_nq5s6"]
[ext_resource type="PackedScene" uid="uid://dyenf2chlolgq" path="res://effects/sounds/key_pickup.tscn" id="4_rlvp5"]
[ext_resource type="Material" uid="uid://btw66b8ou4adn" path="res://materials/effects/shimmer_plot.tres" id="5_nq5s6"]
[ext_resource type="Script" uid="uid://barikupijl7r7" path="res://scripts/components/ZC_Action.gd" id="7_mviw2"]
[ext_resource type="Script" uid="uid://b7fgmwfrg0t73" path="res://scripts/components/characters/ZC_Experience.gd" id="8_vcsu8"]
[ext_resource type="Script" uid="uid://be84y2dw7fp0e" path="res://scripts/components/effects/ZC_Shimmer.gd" id="9_vcsu8"]
[ext_resource type="Script" uid="uid://dbj456ofx8mw1" path="res://scripts/nodes/actions/ZN_BranchAction.gd" id="10_n0s8o"]
[ext_resource type="ArrayMesh" uid="uid://imfx8c0k6dyg" path="res://entities/items/key.mesh" id="10_vcsu8"]
[ext_resource type="Script" uid="uid://djqo74flocpe0" path="res://scripts/nodes/actions/ZN_ExperienceAction.gd" id="11_yl4b0"]

[sub_resource type="Resource" id="Resource_nq5s6"]
script = ExtResource("3_478x2")
name = "door"
metadata/_custom_type_script = "uid://q5lsf8fn6s2"

[sub_resource type="Resource" id="Resource_g03v2"]
script = ExtResource("4_nq5s6")
name = "Key"
crosshair_color = Color(1, 0.92941177, 0, 1)
pickup_sound = ExtResource("4_rlvp5")
metadata/_custom_type_script = "uid://0dld8iow0suh"

[sub_resource type="Resource" id="Resource_7nikf"]
script = ExtResource("7_mviw2")
actions = Dictionary[int, NodePath]({
31: NodePath("UseBranch")
})
metadata/_custom_type_script = "uid://barikupijl7r7"

[sub_resource type="Resource" id="Resource_qn836"]
script = ExtResource("8_vcsu8")
base_xp = 10
metadata/_custom_type_script = "uid://b7fgmwfrg0t73"

[sub_resource type="Resource" id="Resource_n0s8o"]
script = ExtResource("9_vcsu8")
material = ExtResource("5_nq5s6")
nodes = Array[NodePath]([NodePath("TrafficCone/TrafficCone")])
metadata/_custom_type_script = "uid://be84y2dw7fp0e"

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_m1b77"]
points = PackedVector3Array(-0.06152448, -0.0050914427, 0.35563493, 0.2765873, 0.23150572, -0.30922395, 0.2765873, -0.23049928, -0.30922395, -0.2756349, 0.23150572, -0.36563492, -0.23049927, -0.2756349, -0.36563492, 0.051125396, 0.051179443, 0.35563493, 0.23145168, 0.2765873, -0.36563492, 0.0060978797, -0.06141638, 0.35563493, -0.23049927, 0.2765873, -0.30922395, 0.23145168, -0.2756349, -0.36563492, -0.2756349, -0.23049928, -0.30922395, -0.23049927, -0.2756349, -0.30922395, 0.23145168, 0.2765873, -0.30922395, -0.2756349, 0.23150572, -0.30922395, -0.005145486, 0.062422805, 0.35563493, 0.23145168, -0.2756349, -0.30922395, 0.062422816, -0.0050914427, 0.35563493, -0.050227057, -0.050173014, 0.35563493, -0.050227057, 0.051179443, 0.35563493, 0.2765873, -0.23049928, -0.36563492, 0.051125396, -0.050173014, 0.35563493, -0.2756349, -0.23049928, -0.36563492, 0.2765873, 0.23150572, -0.36563492, -0.23049927, 0.2765873, -0.36563492, -0.005145486, -0.06141638, 0.35563493, 0.0060978797, 0.062422805, 0.35563493, -0.06152448, 0.006097868, 0.35563493, 0.062422816, 0.006097868, 0.35563493)

[node name="Key" type="RigidBody3D"]
collision_layer = 4
collision_mask = 15
script = ExtResource("1_lwijo")
prefab_path = "res://entities/items/key.tscn"
component_resources = Array[ExtResource("2_xagmd")]([SubResource("Resource_nq5s6"), SubResource("Resource_g03v2"), SubResource("Resource_7nikf"), SubResource("Resource_qn836"), SubResource("Resource_n0s8o")])

[node name="TrafficCone" type="Node3D" parent="."]

[node name="TrafficCone" type="MeshInstance3D" parent="TrafficCone"]
transform = Transform3D(100, 0, 0, 0, -1.1920929e-05, 99.99999, 0, -99.99999, -1.1920929e-05, 0, 0, 0)
mesh = ExtResource("10_vcsu8")
skeleton = NodePath("")

[node name="CollisionShape3D2" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, -4.371139e-08, 1, 0, -1, -4.371139e-08, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_m1b77")

[node name="UseBranch" type="Node" parent="."]
script = ExtResource("10_n0s8o")
metadata/_custom_type_script = "uid://dbj456ofx8mw1"

[node name="TransferExperience" type="Node" parent="UseBranch"]
script = ExtResource("11_yl4b0")
metadata/_custom_type_script = "uid://djqo74flocpe0"
