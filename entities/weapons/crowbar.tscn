[gd_scene load_steps=32 format=3 uid="uid://rtq8nqsaa7st"]

[ext_resource type="Script" uid="uid://b5t1ema7rumub" path="res://scripts/entities/weapons/ZE_Weapon.gd" id="1_aebpe"]
[ext_resource type="Script" uid="uid://b6k13gc2m4e5s" path="res://addons/gecs/ecs/component.gd" id="2_hqwjb"]
[ext_resource type="Script" uid="uid://dnmn2xmqdrr00" path="res://scripts/components/weapons/ZC_Durability.gd" id="3_fjom8"]
[ext_resource type="Script" uid="uid://0dld8iow0suh" path="res://scripts/components/status/ZC_Interactive.gd" id="4_6f1u0"]
[ext_resource type="Material" uid="uid://cq3gsqhdw64tx" path="res://materials/effects/shimmer_weapon.tres" id="5_d7yd0"]
[ext_resource type="PackedScene" uid="uid://dy4nxp8gacdao" path="res://effects/sounds/bat_equip.tscn" id="6_3hang"]
[ext_resource type="PackedScene" uid="uid://b5jvqnnsarjg5" path="res://effects/sounds/crowbar_break.tscn" id="7_d7yd0"]
[ext_resource type="Script" uid="uid://d3sex4y0oww04" path="res://scripts/resources/ZR_Weapon_Effect.gd" id="7_icymm"]
[ext_resource type="Script" uid="uid://c86wth8kvlbt7" path="res://scripts/components/weapons/ZC_Weapon_Melee.gd" id="9_fkmtx"]
[ext_resource type="Script" uid="uid://bdq3y7j08fnad" path="res://scripts/components/characters/ZC_Equipment.gd" id="10_aebpe"]
[ext_resource type="Script" uid="uid://bg4w2cfxcm0m7" path="res://scripts/nodes/triggers/ZN_TriggerArea3D.gd" id="11_gdwfw"]
[ext_resource type="Script" uid="uid://cv3d8y0ir7na1" path="res://scripts/components/items/ZC_ItemShortcut.gd" id="11_hqwjb"]
[ext_resource type="AudioStream" uid="uid://broij1fd8uktr" path="res://sounds/Sound Effects/Melee/Hit/blunt_hit_metal_ufx_1.ogg" id="12_aebpe"]
[ext_resource type="Script" uid="uid://be84y2dw7fp0e" path="res://scripts/components/effects/ZC_Shimmer.gd" id="12_fjom8"]
[ext_resource type="Script" uid="uid://mcuf24u8q14t" path="res://scripts/nodes/ZN_AudioSubtitle3D.gd" id="13_rq4st"]
[ext_resource type="ArrayMesh" uid="uid://ctyo40b12xbs4" path="res://entities/weapons/crowbar.mesh" id="14_d7yd0"]
[ext_resource type="Script" uid="uid://u512rl8uacud" path="res://scripts/nodes/actions/ZN_DurabilityAction.gd" id="14_n63nw"]
[ext_resource type="Script" uid="uid://dlb4vkkjdb658" path="res://scripts/nodes/actions/ZN_HealthAction.gd" id="15_yxms2"]
[ext_resource type="Script" uid="uid://crylbd231pgne" path="res://scripts/nodes/conditions/ZN_FactionCondition.gd" id="16_jumh0"]
[ext_resource type="Script" uid="uid://dga8v5ocxqirt" path="res://scripts/nodes/actions/ZN_AudioAction.gd" id="17_qss8v"]
[ext_resource type="PackedScene" uid="uid://bhyc84ubi2edx" path="res://effects/sounds/crowbar_swing.tscn" id="21_d7yd0"]

[sub_resource type="Resource" id="Resource_42kvg"]
script = ExtResource("3_fjom8")
current_durability = 80
surface_damage = Dictionary[String, int]({
"brick": 5,
"metal": 5,
"stone": 5,
"wood": 5,
"zombie": 2
})
metadata/_custom_type_script = "uid://dnmn2xmqdrr00"

[sub_resource type="Resource" id="Resource_dy0dc"]
script = ExtResource("4_6f1u0")
name = "Crowbar"
crosshair_color = Color(0.9372549, 0.30980393, 0.52156866, 1)
use_sound = ExtResource("6_3hang")
metadata/_custom_type_script = "uid://0dld8iow0suh"

[sub_resource type="Resource" id="Resource_dwhqy"]
script = ExtResource("7_icymm")
effect_type = 5
marker = NodePath("Node3D/SoundMarker3D")
effect_scene = ExtResource("7_d7yd0")
metadata/_custom_type_script = "uid://d3sex4y0oww04"

[sub_resource type="Resource" id="Resource_d7yd0"]
script = ExtResource("7_icymm")
effect_type = 1
marker = NodePath("Node3D/SoundMarker3D")
effect_scene = ExtResource("21_d7yd0")
metadata/_custom_type_script = "uid://d3sex4y0oww04"

[sub_resource type="Resource" id="Resource_ee0de"]
script = ExtResource("9_fkmtx")
swing_time = 0.5
cooldown_time = 0.3
damage_areas = Array[NodePath]([NodePath("Node3D/Area3D")])
damage = 10
effects = Array[ExtResource("7_icymm")]([SubResource("Resource_dwhqy"), SubResource("Resource_d7yd0")])
metadata/_custom_type_script = "uid://c86wth8kvlbt7"

[sub_resource type="Resource" id="Resource_hqwjb"]
script = ExtResource("10_aebpe")
slot = "weapon_melee"
metadata/_custom_type_script = "uid://bdq3y7j08fnad"

[sub_resource type="Resource" id="Resource_fjom8"]
script = ExtResource("11_hqwjb")
shortcut = 1
metadata/_custom_type_script = "uid://cv3d8y0ir7na1"

[sub_resource type="Resource" id="Resource_6f1u0"]
script = ExtResource("12_fjom8")
material = ExtResource("5_d7yd0")
nodes = Array[NodePath]([NodePath("Node3D/rusty_crowbar_mx_1")])
metadata/_custom_type_script = "uid://be84y2dw7fp0e"

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_aebpe"]
points = PackedVector3Array(-0.38677025, 0.07427229, 0.019447148, -0.38677025, 0.07427229, -0.019553442, -0.29242247, 0.0041236132, 0.014240608, 0.50153214, -0.18724914, 0.02245126, 0.4994704, -0.18425374, 0.02245126, 0.5266654, 0.008962333, 0.017447341, 0.5266654, 0.019279823, 0.007448321, -0.29242247, 0.0041236132, -0.014342497, 0.5266654, 0.019279823, -0.0075502107, 0.5266654, 0.008962333, -0.017549232, 0.4994704, -0.18425374, -0.022548743, 0.50153214, -0.18724914, -0.022548743, -0.284372, -0.0017135739, 0.0034443084, -0.25629348, -0.009726912, 0.00444421, -0.22831312, -0.016716167, 0.0054485165, 0.55582386, -0.16971198, 0.01644744, 0.5690777, -0.15901046, 0.017077334, 0.5888112, -0.13192385, 0.017447341, 0.6061885, -0.09761757, 0.017447341, 0.60442126, -0.060239077, 0.017447341, 0.5924437, -0.029004991, 0.017447341, 0.5660342, -0.0025072247, 0.017447341, 0.57261205, 0.0053012967, 0.007448321, -0.22831312, -0.016716167, -0.005550407, -0.25629348, -0.009726912, -0.0045505036, -0.284372, -0.0017135739, -0.0035506021, 0.57261205, 0.0053012967, -0.0075502107, 0.5660342, -0.0025072247, -0.017549232, 0.5924437, -0.029004991, -0.017549232, 0.60442126, -0.060239077, -0.017549232, 0.6061885, -0.09761757, -0.017549232, 0.5888112, -0.13192385, -0.017549232, 0.5690777, -0.15901046, -0.017179225, 0.55582386, -0.16971198, -0.016553735, 0.59578174, -0.13906673, 0.007448321, 0.6162025, -0.09933288, 0.007448321, 0.6145334, -0.057986125, 0.007448321, 0.6010833, -0.02344942, 0.007448321, 0.6010833, -0.02344942, -0.0075502107, 0.6145334, -0.057986125, -0.0075502107, 0.6162025, -0.09933288, -0.0075502107, 0.59578174, -0.13906673, -0.0075502107)

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_hqwjb"]
points = PackedVector3Array(-0.38677025, 0.07427229, 0.019447148, -0.38677025, 0.07427229, -0.019553442, -0.29242247, 0.0041236132, 0.014240608, 0.50153214, -0.18724914, 0.02245126, 0.4994704, -0.18425374, 0.02245126, 0.5266654, 0.008962333, 0.017447341, 0.5266654, 0.019279823, 0.007448321, -0.29242247, 0.0041236132, -0.014342497, 0.5266654, 0.019279823, -0.0075502107, 0.5266654, 0.008962333, -0.017549232, 0.4994704, -0.18425374, -0.022548743, 0.50153214, -0.18724914, -0.022548743, -0.284372, -0.0017135739, 0.0034443084, -0.25629348, -0.009726912, 0.00444421, -0.22831312, -0.016716167, 0.0054485165, 0.55582386, -0.16971198, 0.01644744, 0.5690777, -0.15901046, 0.017077334, 0.5888112, -0.13192385, 0.017447341, 0.6061885, -0.09761757, 0.017447341, 0.60442126, -0.060239077, 0.017447341, 0.5924437, -0.029004991, 0.017447341, 0.5660342, -0.0025072247, 0.017447341, 0.57261205, 0.0053012967, 0.007448321, -0.22831312, -0.016716167, -0.005550407, -0.25629348, -0.009726912, -0.0045505036, -0.284372, -0.0017135739, -0.0035506021, 0.57261205, 0.0053012967, -0.0075502107, 0.5660342, -0.0025072247, -0.017549232, 0.5924437, -0.029004991, -0.017549232, 0.60442126, -0.060239077, -0.017549232, 0.6061885, -0.09761757, -0.017549232, 0.5888112, -0.13192385, -0.017549232, 0.5690777, -0.15901046, -0.017179225, 0.55582386, -0.16971198, -0.016553735, 0.59578174, -0.13906673, 0.007448321, 0.6162025, -0.09933288, 0.007448321, 0.6145334, -0.057986125, 0.007448321, 0.6010833, -0.02344942, 0.007448321, 0.6010833, -0.02344942, -0.0075502107, 0.6145334, -0.057986125, -0.0075502107, 0.6162025, -0.09933288, -0.0075502107, 0.59578174, -0.13906673, -0.0075502107)

[node name="WeaponCrowbar" type="RigidBody3D"]
collision_layer = 4
collision_mask = 23
max_contacts_reported = 4
script = ExtResource("1_aebpe")
prefab_path = "res://entities/weapons/bat.tscn"
component_resources = Array[ExtResource("2_hqwjb")]([SubResource("Resource_42kvg"), SubResource("Resource_dy0dc"), SubResource("Resource_ee0de"), SubResource("Resource_hqwjb"), SubResource("Resource_fjom8"), SubResource("Resource_6f1u0")])

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(-4.7681382e-08, 4.3711392e-08, 1, 1, -4.371139e-08, 4.7681386e-08, 4.3711392e-08, 1, -4.371139e-08, 0, 0.12184494, 0)
shape = SubResource("ConvexPolygonShape3D_aebpe")

[node name="Node3D" type="Node3D" parent="."]
transform = Transform3D(0.9999673, 0, 0, 0, 1.000005, 0, 0, 0, 1.000003, 0, 0.22184545, 0)

[node name="SoundMarker3D" type="Marker3D" parent="Node3D"]
transform = Transform3D(0.76434076, 1.1340122e-08, -0.6448424, 0.56403923, 0.48464644, 0.66856354, 0.31251475, -0.87471026, 0.37042817, -0.010933876, 0.55519664, 0.00024962425)

[node name="rusty_crowbar_mx_1" type="MeshInstance3D" parent="Node3D"]
transform = Transform3D(-4.768372e-08, 0, 1.0000004, 1.0000112, 0, -4.768372e-08, -2.384186e-08, 1.000008, -4.768372e-08, 0, -0.10000001, 0)
mesh = ExtResource("14_d7yd0")
skeleton = NodePath("")

[node name="Area3D" type="Area3D" parent="Node3D" node_paths=PackedStringArray("parent_entity")]
transform = Transform3D(1, -5.9604645e-08, -2.9802322e-08, -2.9802322e-08, 0.99999994, -4.4703484e-08, 0, 0, 1, 0, 0, 0)
collision_layer = 4
collision_mask = 19
monitoring = false
script = ExtResource("11_gdwfw")
active = false
parent_entity = NodePath("../..")
trigger_on_body_interval = false
metadata/_custom_type_script = "uid://bg4w2cfxcm0m7"

[node name="CollisionShape3D" type="CollisionShape3D" parent="Node3D/Area3D"]
transform = Transform3D(-2.9802322e-08, 4.4703484e-08, 1.0000004, 1.0000114, 4.4703484e-08, 0, -4.4703484e-08, 1.000008, 2.9802322e-08, -1.1920929e-07, -0.10000008, -5.9604645e-08)
shape = SubResource("ConvexPolygonShape3D_hqwjb")

[node name="HitAudio" type="AudioStreamPlayer3D" parent="Node3D/Area3D"]
transform = Transform3D(1.0000193, 8.940697e-08, 2.9802322e-08, 0, 1, 4.4703484e-08, 1.4901161e-08, -1.4901161e-08, 1.0000004, 0, 0, 0)
stream = ExtResource("12_aebpe")
bus = &"Effects"
script = ExtResource("13_rq4st")
alerts_enemies = false
subtitle_text = "Crowbar Clanging"
metadata/_custom_type_script = "uid://mcuf24u8q14t"

[node name="ZN_DurabilityAction" type="Node" parent="Node3D/Area3D" node_paths=PackedStringArray("entity")]
script = ExtResource("14_n63nw")
default_amount = 5
surface_amounts = Dictionary[String, int]({
"metal": 10,
"stone": 25,
"wood": 5
})
entity = NodePath("../../..")

[node name="ZN_HealthAction" type="Node" parent="Node3D/Area3D"]
script = ExtResource("15_yxms2")
health_mode = 0
metadata/_custom_type_script = "uid://dlb4vkkjdb658"

[node name="ZN_FactionCondition" type="Node" parent="Node3D/Area3D/ZN_HealthAction"]
script = ExtResource("16_jumh0")
apply_to_factions = Array[String](["hostile_zombies", "neutral_world"])
metadata/_custom_type_script = "uid://crylbd231pgne"

[node name="ZN_AudioAction" type="Node" parent="Node3D/Area3D" node_paths=PackedStringArray("audio_players")]
script = ExtResource("17_qss8v")
audio_players = [NodePath("../HitAudio")]
metadata/_custom_type_script = "uid://dga8v5ocxqirt"
