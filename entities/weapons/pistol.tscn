[gd_scene load_steps=30 format=3 uid="uid://lvteuslo4wik"]

[ext_resource type="Script" uid="uid://b5t1ema7rumub" path="res://scripts/entities/weapons/ZE_Weapon.gd" id="1_xfwg1"]
[ext_resource type="Script" uid="uid://b6k13gc2m4e5s" path="res://addons/gecs/ecs/component.gd" id="2_ivpki"]
[ext_resource type="Script" uid="uid://bsnlq5t650od" path="res://scripts/components/weapons/ZC_Ammo.gd" id="3_kcyli"]
[ext_resource type="PackedScene" uid="uid://bbtud7vqwa7qs" path="res://effects/sounds/weapon_pickup.tscn" id="4_nbh20"]
[ext_resource type="Script" uid="uid://0dld8iow0suh" path="res://scripts/components/status/ZC_Interactive.gd" id="5_0ywhd"]
[ext_resource type="Material" uid="uid://cq3gsqhdw64tx" path="res://materials/effects/shimmer_weapon.tres" id="6_yxwx0"]
[ext_resource type="Script" uid="uid://d3sex4y0oww04" path="res://scripts/resources/ZR_Weapon_Effect.gd" id="8_21478"]
[ext_resource type="PackedScene" uid="uid://ql530vnfgdgj" path="res://effects/weapons/pistol_blast.tscn" id="9_ivpki"]
[ext_resource type="PackedScene" uid="uid://ca8l85h1tx3hm" path="res://effects/sounds/pistol_equip.tscn" id="10_kcyli"]
[ext_resource type="PackedScene" uid="uid://cm12h0i7lb2v3" path="res://effects/sounds/pistol_empty.tscn" id="11_nbh20"]
[ext_resource type="PackedScene" uid="uid://dheaie13f5j7r" path="res://entities/weapons/bullet_pistol.tscn" id="11_xfwg1"]
[ext_resource type="Script" uid="uid://dwsqxsqwtloma" path="res://scripts/components/weapons/ZC_Weapon_Ranged.gd" id="12_85yjl"]
[ext_resource type="Script" uid="uid://bdq3y7j08fnad" path="res://scripts/components/characters/ZC_Equipment.gd" id="13_j4hrb"]
[ext_resource type="Script" uid="uid://cv3d8y0ir7na1" path="res://scripts/components/items/ZC_ItemShortcut.gd" id="14_ivpki"]
[ext_resource type="Script" uid="uid://be84y2dw7fp0e" path="res://scripts/components/effects/ZC_Shimmer.gd" id="15_kcyli"]
[ext_resource type="ArrayMesh" uid="uid://du5emyscqtesu" path="res://entities/weapons/pistol_1.mesh" id="16_yxwx0"]
[ext_resource type="ArrayMesh" uid="uid://p4uy1l7mos2c" path="res://entities/weapons/pistol_2.mesh" id="17_dtfgj"]
[ext_resource type="ArrayMesh" uid="uid://becmsliw7wksj" path="res://entities/weapons/pistol_3.mesh" id="18_21478"]
[ext_resource type="ArrayMesh" uid="uid://cgymp3kjnntne" path="res://entities/weapons/pistol_4.mesh" id="19_8h1vp"]

[sub_resource type="Resource" id="Resource_bsv6m"]
script = ExtResource("3_kcyli")
ammo_count = Dictionary[String, int]({
"357 Magnum": 6
})
max_ammo_count = Dictionary[String, int]({
"357 Magnum": 6
})
metadata/_custom_type_script = "uid://bsnlq5t650od"

[sub_resource type="Resource" id="Resource_17hxq"]
script = ExtResource("5_0ywhd")
name = "Magnum Pistol"
distance = 2.0
crosshair_color = Color(0.9372549, 0.30980393, 0.52156866, 1)
pickup_sound = ExtResource("4_nbh20")
use_sound = ExtResource("10_kcyli")
metadata/_custom_type_script = "uid://0dld8iow0suh"

[sub_resource type="Resource" id="Resource_l5ox4"]
script = ExtResource("8_21478")
effect_type = 2
marker = NodePath("Markers/ProjectileMarker")
effect_scene = ExtResource("9_ivpki")
metadata/_custom_type_script = "uid://d3sex4y0oww04"

[sub_resource type="Resource" id="Resource_sgaoq"]
script = ExtResource("8_21478")
effect_type = 4
marker = NodePath("Markers/ReloadMarker")
effect_scene = ExtResource("10_kcyli")
metadata/_custom_type_script = "uid://d3sex4y0oww04"

[sub_resource type="Resource" id="Resource_r86bq"]
script = ExtResource("8_21478")
effect_type = 7
marker = NodePath("Markers/ReloadMarker")
effect_scene = ExtResource("11_nbh20")
metadata/_custom_type_script = "uid://d3sex4y0oww04"

[sub_resource type="Resource" id="Resource_7rb10"]
script = ExtResource("12_85yjl")
muzzle_velocity = 60.0
muzzle_marker = NodePath("Markers/ProjectileMarker")
recoil_marker = NodePath("Markers/ProjectileMarker")
ammo_type = "357 Magnum"
per_reload = 6
projectile_scene = ExtResource("11_xfwg1")
effects = Array[ExtResource("8_21478")]([SubResource("Resource_l5ox4"), SubResource("Resource_sgaoq"), SubResource("Resource_r86bq")])
metadata/_custom_type_script = "uid://dwsqxsqwtloma"

[sub_resource type="Resource" id="Resource_fppoe"]
script = ExtResource("13_j4hrb")
slot = "weapon_ranged"
metadata/_custom_type_script = "uid://bdq3y7j08fnad"

[sub_resource type="Resource" id="Resource_kcyli"]
script = ExtResource("14_ivpki")
shortcut = 2
metadata/_custom_type_script = "uid://cv3d8y0ir7na1"

[sub_resource type="Resource" id="Resource_nbh20"]
script = ExtResource("15_kcyli")
material = ExtResource("6_yxwx0")
nodes = Array[NodePath]([NodePath("Colt PythonRigged/Armature/Skeleton3D/Body2/Body2"), NodePath("Colt PythonRigged/Armature/Skeleton3D/Cylinder2/Cylinder2")])
metadata/_custom_type_script = "uid://be84y2dw7fp0e"

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_xfwg1"]
points = PackedVector3Array(-0.00464894, -0.6814673, -0.004458285, 0.009598875, -0.6527677, 0.13832444, 0.023876028, -0.039258, 0.12401934, 0.052420553, 0.032088667, -0.31836566, -0.047480397, 0.23191294, -0.31836566, -0.033203244, -0.02504232, 0.10971425, -0.033203244, -0.6814673, 0.08119346, 0.052420553, 0.23191294, -0.2755398, -0.047480397, 0.032088667, -0.31836566, -0.047480397, 0.14626119, -0.06154455, 0.023876028, -0.6814673, 0.10971425, 0.0381434, 0.10343531, 0.0241519, 0.023876028, -0.6814673, 0.009802106, -0.018926091, -0.6814673, 0.13832444, -0.033203244, -0.6814673, 0.03836759, 0.052420553, 0.23191294, -0.31836566, -0.047480397, 0.18908706, -0.13280179, -0.033203244, 0.10343531, 0.0241519, 0.052420553, 0.046304334, -0.2755398, -0.047480397, 0.089130215, -0.032979067, 0.0381434, 0.18908706, -0.13280179, -0.018926091, -0.039258, 0.12401934, -0.047480397, 0.21760783, -0.21845354, -0.033203244, -0.23890345, 0.10971425, -0.047480397, 0.032088667, -0.13280179, -0.018926091, -0.6814673, 0.009802106, 0.009598875, -0.6814673, -0.004458285, -0.047480397, 0.23191294, -0.2755398, 0.0381434, 0.089130215, 0.0241519, 0.0381434, 0.21760783, -0.21845354, -0.047480397, 0.17478198, -0.104281016, 0.009598875, -0.6814673, 0.13832444)

[node name="WeaponPistol" type="RigidBody3D"]
collision_layer = 4
collision_mask = 31
script = ExtResource("1_xfwg1")
prefab_path = "res://entities/weapons/shotgun.tscn"
component_resources = Array[ExtResource("2_ivpki")]([SubResource("Resource_bsv6m"), SubResource("Resource_17hxq"), SubResource("Resource_7rb10"), SubResource("Resource_fppoe"), SubResource("Resource_kcyli"), SubResource("Resource_nbh20")])

[node name="Colt PythonRigged" type="Node3D" parent="."]
transform = Transform3D(-1, 0, 8.742278e-08, 0, 1, 0, -8.742278e-08, 0, -1, 0, -0.023279577, -0.13194704)

[node name="Armature" type="Node3D" parent="Colt PythonRigged"]
transform = Transform3D(30.000002, 0, 0, 0, -3.576279e-06, 30, 0, -30, -3.576279e-06, 0, -0.3556372, -0.19079247)

[node name="Skeleton3D" type="Skeleton3D" parent="Colt PythonRigged/Armature"]
bones/0/name = "Body"
bones/0/parent = -1
bones/0/rest = Transform3D(1, 1.4210855e-14, 2.3841866e-07, 2.0708575e-07, -0.49554837, -0.8685805, 1.1814792e-07, 0.8685804, -0.49554843, 0, 0.0018191917, -0.00014767199)
bones/0/enabled = true
bones/0/position = Vector3(0, 0.0018191917, -0.00014767199)
bones/0/rotation = Quaternion(0.8647395, 5.9869436e-08, 1.03084986e-07, 0.50222087)
bones/0/scale = Vector3(1, 1, 1.0000001)
bones/1/name = "Trigger"
bones/1/parent = 0
bones/1/rest = Transform3D(1, -1.580016e-07, 4.1696543e-07, 1.580016e-07, -0.7488792, -0.6627066, 4.1696538e-07, 0.66270655, -0.74887925, -8.9850394e-10, 0.010704662, 0.0037685984)
bones/1/enabled = true
bones/1/position = Vector3(-8.9850394e-10, 0.010704662, 0.0037685984)
bones/1/rotation = Quaternion(0.93511474, 0, 2.2294877e-07, 0.35434502)
bones/1/scale = Vector3(1, 1, 1.0000001)
bones/2/name = "Cylinder"
bones/2/parent = 0
bones/2/rest = Transform3D(1, -2.0708569e-07, -1.6360818e-06, -1.3184473e-06, 0.49554855, -0.8685803, 9.906285e-07, 0.8685803, 0.49554855, -6.0693817e-10, 0.013230325, 0.0025456827)
bones/2/enabled = true
bones/2/position = Vector3(-6.0693817e-10, 0.013230325, 0.0025456827)
bones/2/rotation = Quaternion(0.5022208, -7.593936e-07, -3.2129955e-07, 0.8647394)
bones/2/scale = Vector3(1, 1, 1)
bones/3/name = "Hammer"
bones/3/parent = 0
bones/3/rest = Transform3D(1, 2.382188e-07, -9.758843e-09, 2.842171e-14, 0.040931404, 0.99916196, 2.384186e-07, -0.99916196, 0.040931404, -4.965866e-11, 0.013344413, 0.00020828382)
bones/3/enabled = true
bones/3/position = Vector3(-4.965866e-11, 0.013344413, 0.00020828382)
bones/3/rotation = Quaternion(-0.69248414, -8.600155e-08, -8.255054e-08, 0.7214331)
bones/3/scale = Vector3(1, 1, 1)

[node name="Body2" type="BoneAttachment3D" parent="Colt PythonRigged/Armature/Skeleton3D"]
transform = Transform3D(1, 7.1054274e-14, 2.3841866e-07, 2.0708576e-07, -0.4955485, -0.8685804, 1.1814793e-07, 0.8685803, -0.49554855, 0, 0.0018191917, -0.00014767199)
bone_name = "Body"
bone_idx = 0

[node name="Body2" type="MeshInstance3D" parent="Colt PythonRigged/Armature/Skeleton3D/Body2"]
transform = Transform3D(1.9211719, 3.978474e-07, 2.2698246e-07, 4.095224e-14, -0.95203376, 1.6686924, 4.5804313e-07, -1.6686926, -0.95203364, -6.292634e-11, 0.011089823, 0.00026393175)
mesh = ExtResource("16_yxwx0")
skeleton = NodePath("")

[node name="Trigger2" type="BoneAttachment3D" parent="Colt PythonRigged/Armature/Skeleton3D"]
transform = Transform3D(1, -2.842171e-14, 2.3841858e-07, -2.3337964e-07, -0.20450792, 0.9788651, 4.8758395e-08, -0.9788649, -0.20450783, 1.0547119e-15, -0.0067588184, 0.0072826627)
bone_name = "Trigger"
bone_idx = 1

[node name="Trigger2" type="MeshInstance3D" parent="Colt PythonRigged/Armature/Skeleton3D/Trigger2"]
transform = Transform3D(1.9211719, -4.4836236e-07, 9.367335e-08, -8.190448e-14, -0.39289457, -1.8805676, 4.580433e-07, 1.8805673, -0.39289463, -0.001200733, -0.0026110047, 0.0023693216)
mesh = ExtResource("17_dtfgj")
skeleton = NodePath("")

[node name="Cylinder2" type="BoneAttachment3D" parent="Colt PythonRigged/Armature/Skeleton3D"]
transform = Transform3D(1, 8.526513e-14, -1.5179339e-06, -1.7053026e-13, -1.0000001, -1.1920929e-07, -1.5179339e-06, 0, -1.0000001, 1.0547119e-15, -0.0069482066, 0.010082418)
bone_name = "Cylinder"
bone_idx = 2

[node name="Cylinder2" type="MeshInstance3D" parent="Colt PythonRigged/Armature/Skeleton3D/Cylinder2"]
transform = Transform3D(-1.9211723, -3.0383478e-06, 3.2761798e-13, -5.4603e-13, 1.14510776e-07, -1.9211721, 3.038348e-06, -1.921172, -2.2902157e-07, 1.2202834e-11, 0.0069234716, 8.0388045e-06)
mesh = ExtResource("18_21478")
skeleton = NodePath("")

[node name="Hammer2" type="BoneAttachment3D" parent="Colt PythonRigged/Armature/Skeleton3D"]
transform = Transform3D(1, -5.684342e-14, 3.907985e-14, 1.4210855e-14, 0.847569, -0.5306854, -4.2632564e-14, 0.5306855, 0.84756887, 1.0373646e-15, -0.0049745226, 0.011339807)
bone_name = "Hammer"
bone_idx = 3

[node name="Hammer2" type="MeshInstance3D" parent="Colt PythonRigged/Armature/Skeleton3D/Hammer2"]
transform = Transform3D(1.9211718, -2.0568715e-14, -1.3707647e-14, 2.4707851e-14, 1.6283255, 1.0195379, 7.0265655e-16, -1.019538, 1.6283253, -1.297457e-16, 0.002928146, -0.0072930986)
mesh = ExtResource("19_8h1vp")
skeleton = NodePath("")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(-1, -1.509958e-07, -6.600236e-15, 0, -4.371139e-08, 1, -1.509958e-07, 1, 4.371139e-08, -6.43648e-09, -0.09829858, -0.05832252)
shape = SubResource("ConvexPolygonShape3D_xfwg1")

[node name="Markers" type="Node3D" parent="."]

[node name="ProjectileMarker" type="Marker3D" parent="Markers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.046828195, -0.78292555)

[node name="ReloadMarker" type="Marker3D" parent="Markers"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.06522119, -0.046828195, -0.23073965)
