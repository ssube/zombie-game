[gd_scene load_steps=14 format=3 uid="uid://cvfrt5j7ppr85"]

[ext_resource type="Script" uid="uid://dp6acnrca27yq" path="res://scripts/entities/weapons/ZE_Bullet.gd" id="1_y2pho"]
[ext_resource type="Script" uid="uid://b6k13gc2m4e5s" path="res://addons/gecs/ecs/component.gd" id="2_j26kx"]
[ext_resource type="Script" uid="uid://d3sex4y0oww04" path="res://scripts/resources/ZR_Weapon_Effect.gd" id="3_kx31r"]
[ext_resource type="Script" uid="uid://dwsqxsqwtloma" path="res://scripts/components/weapons/ZC_Weapon_Ranged.gd" id="4_5e66d"]
[ext_resource type="Script" uid="uid://bsnlq5t650od" path="res://scripts/components/weapons/ZC_Ammo.gd" id="5_2b4it"]
[ext_resource type="ArrayMesh" uid="uid://crm4juob7pwyp" path="res://entities/weapons/rocks_item.mesh" id="6_cgvby"]
[ext_resource type="AudioStream" uid="uid://ci2vuh771sqpk" path="res://sounds/Sound Effects/Melee/Throw/throw_heavy_ufx_1.ogg" id="9_cgvby"]
[ext_resource type="Script" uid="uid://h4hsumlormm8" path="res://scripts/nodes/triggers/ZN_VariableTriggerTimer.gd" id="10_sowup"]
[ext_resource type="Script" uid="uid://mcuf24u8q14t" path="res://scripts/nodes/ZN_AudioSubtitle3D.gd" id="10_y2pho"]
[ext_resource type="Script" uid="uid://dlpeis5tgmelp" path="res://scripts/nodes/actions/ZN_EntityAction.gd" id="11_7kqat"]

[sub_resource type="Resource" id="Resource_4s6ep"]
script = ExtResource("4_5e66d")
ammo_type = "flare"
metadata/_custom_type_script = "uid://dwsqxsqwtloma"

[sub_resource type="Resource" id="Resource_24ymc"]
script = ExtResource("5_2b4it")
ammo_count = Dictionary[String, int]({
"flare": 1
})
max_ammo_count = Dictionary[String, int]({
"flare": 1
})
metadata/_custom_type_script = "uid://bsnlq5t650od"

[sub_resource type="ConvexPolygonShape3D" id="ConvexPolygonShape3D_fq1wv"]
points = PackedVector3Array(0.08967229, -0.05928862, -0.11283174, -0.13486236, 0.046234574, -0.03351006, -0.13590996, 0.04663174, -0.024163615, 0.04250895, 0.1363618, -0.023863392, 0.060541242, -0.123384245, -0.010296096, -0.041627888, 0.019470673, -0.17385523, -0.033094775, -0.1386014, -0.09090635, -0.11465752, 0.114592634, -0.01454302, 0.10957182, 0.006561017, -0.010482191, -0.06919626, -0.10500321, -0.010608063, 0.07103189, 0.04514365, -0.1124881, -0.073092215, 0.11715866, -0.095366396, 0.03784412, -0.12265274, -0.122138, 0.05111754, 0.073221, -0.002004951, 0.006319017, 0.03239911, -0.16916072, -0.05031831, -0.10268576, -0.12144479, 0.09703431, -0.11962625, -0.023354912, 0.12263524, 0.0020927803, -0.037455425, 0.028655594, -0.024425149, -0.17053375, -0.11624273, 0.058972925, -0.08218419, -0.09906749, -0.06829639, -0.051359657, -0.073286965, -0.0023500025, -0.0021586586, 0.015909197, -0.1472385, -0.032150414, 0.054228503, 0.11081505, -0.064813, 0.10457338, 0.06885194, -0.024210595, 0.059999697, -0.07348304, -0.0020139322, -0.065247744, 0.14178815, -0.023450283, -0.028483853, -0.07630426, -0.15183681, -0.08906684, -0.010986604, -0.1125734, 0.063423544, -0.015477334, -0.15228516, 0.078116395, -0.122893356, -0.090957396, 0.119663425, -0.074548826, -0.023307122)

[node name="Rock" type="RigidBody3D"]
script = ExtResource("1_y2pho")
prefab_path = "res://entities/weapons/flare.tscn"
component_resources = Array[ExtResource("2_j26kx")]([SubResource("Resource_4s6ep"), SubResource("Resource_24ymc")])

[node name="stone_5" type="MeshInstance3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0)
mesh = ExtResource("6_cgvby")
skeleton = NodePath("")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0, -1, 0, 1, 0, 0, 0, 0)
shape = SubResource("ConvexPolygonShape3D_fq1wv")

[node name="ZN_VariableTriggerTimer" type="Timer" parent="." node_paths=PackedStringArray("parent_entity")]
wait_time = 15.0
one_shot = true
script = ExtResource("10_sowup")
parent_entity = NodePath("..")
metadata/_custom_type_script = "uid://h4hsumlormm8"

[node name="ZN_EntityAction" type="Node" parent="ZN_VariableTriggerTimer" node_paths=PackedStringArray("entity")]
script = ExtResource("11_7kqat")
entity = NodePath("../..")
remove = true
metadata/_custom_type_script = "uid://dlpeis5tgmelp"

[node name="ZN_AudioSubtitle3D" type="AudioStreamPlayer3D" parent="."]
stream = ExtResource("9_cgvby")
bus = &"Effects"
script = ExtResource("10_y2pho")
play_on_ready = true
alerts_enemies = false
remove_on_finished = true
metadata/_custom_type_script = "uid://mcuf24u8q14t"
